machine:
  python:
    version: 2.7.10
  environment:
    PLATFORMIO_CI_SRC: tests/resources/to_compile.ino

dependencies:
  override:
    - pip install cpplint
    - python -c "$(curl -fsSL https://raw.githubusercontent.com/platformio/platformio/master/scripts/get-platformio.py)"
    - platformio platforms install atmelavr
    - cp tests/resourecs/platformio/boards/punchthrough.json ~/.platformio/boards
    - cp -rvf hardware/bean/avr/* ~/.platformio/packages/framework-arduinoavr/
    - ls -la ~/.platformio/packages/framework-arduinoavr

test:
  override:
    - tests/lint_all.py --lint
    - platformio ci --board=uno
