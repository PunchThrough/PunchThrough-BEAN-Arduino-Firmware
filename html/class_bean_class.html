<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>LightBlue Bean Arduino Core: BeanClass Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LightBlue Bean Arduino Core
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_bean_class.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="class_bean_class-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BeanClass Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Accelerometer</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Read acceleration values and configure the accelerometer's sensitivity. </p>
</div></td></tr>
<tr class="memitem:a9d2f98bbb1b8a715c0fe549c438f44ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a9d2f98bbb1b8a715c0fe549c438f44ed">enableMotionEvent</a> (AccelEventTypes events)</td></tr>
<tr class="separator:a9d2f98bbb1b8a715c0fe549c438f44ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9fb65a465070f9f3e9cdf4f2687bdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a0f9fb65a465070f9f3e9cdf4f2687bdc">disableMotionEvents</a> ()</td></tr>
<tr class="separator:a0f9fb65a465070f9f3e9cdf4f2687bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75492018fa92ad32c06a12ce456dc74c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a75492018fa92ad32c06a12ce456dc74c">checkMotionEvent</a> (AccelEventTypes events)</td></tr>
<tr class="separator:a75492018fa92ad32c06a12ce456dc74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00cf73de73eeb00d220efa32a830d6ef"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a00cf73de73eeb00d220efa32a830d6ef">getAccelerationX</a> (void)</td></tr>
<tr class="separator:a00cf73de73eeb00d220efa32a830d6ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0554ca18558748b67205bd5bdcaeac"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#aba0554ca18558748b67205bd5bdcaeac">getAccelerationY</a> (void)</td></tr>
<tr class="separator:aba0554ca18558748b67205bd5bdcaeac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c977e7b185ebc038335228d8ef1d0b9"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a5c977e7b185ebc038335228d8ef1d0b9">getAccelerationZ</a> (void)</td></tr>
<tr class="separator:a5c977e7b185ebc038335228d8ef1d0b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f2174dd2f3c2907acc3355cef64842"><td class="memItemLeft" align="right" valign="top">AccelerationReading&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a53f2174dd2f3c2907acc3355cef64842">getAcceleration</a> (void)</td></tr>
<tr class="separator:a53f2174dd2f3c2907acc3355cef64842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47244506c985ef7aead3695811002ad2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a47244506c985ef7aead3695811002ad2">accelRegisterWrite</a> (uint8_t reg, uint8_t value)</td></tr>
<tr class="separator:a47244506c985ef7aead3695811002ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e743eb8cc8e5e04364f53801b8fe83e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a3e743eb8cc8e5e04364f53801b8fe83e">accelRegisterRead</a> (uint8_t reg, uint8_t length, uint8_t *value)</td></tr>
<tr class="separator:a3e743eb8cc8e5e04364f53801b8fe83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08dec6f240de8a53f110ddf066f6ab2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#ad08dec6f240de8a53f110ddf066f6ab2">getAccelerationRange</a> (void)</td></tr>
<tr class="separator:ad08dec6f240de8a53f110ddf066f6ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8e9a741e2538393256f95d27c4571d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#acb8e9a741e2538393256f95d27c4571d">setAccelerationRange</a> (uint8_t range)</td></tr>
<tr class="separator:acb8e9a741e2538393256f95d27c4571d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eebb09ead4b598ef56c359ed14141be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a4eebb09ead4b598ef56c359ed14141be">setAccelerometerPowerMode</a> (uint8_t mode)</td></tr>
<tr class="separator:a4eebb09ead4b598ef56c359ed14141be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4f9a75f687547ff8f6cb4146ab30fa"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#afb4f9a75f687547ff8f6cb4146ab30fa">getAccelerometerPowerMode</a> ()</td></tr>
<tr class="separator:afb4f9a75f687547ff8f6cb4146ab30fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">LED</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Set the RGB LED color and check what it's currently showing. </p>
</div></td></tr>
<tr class="memitem:a7af1f9d1edb112f761db9b69686b5a5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a7af1f9d1edb112f761db9b69686b5a5a">setLed</a> (uint8_t red, uint8_t green, uint8_t blue)</td></tr>
<tr class="separator:a7af1f9d1edb112f761db9b69686b5a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab73794fbf27d0297ead453ca60ac4aaf"><td class="memItemLeft" align="right" valign="top">LedReading&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#ab73794fbf27d0297ead453ca60ac4aaf">getLed</a> (void)</td></tr>
<tr class="separator:ab73794fbf27d0297ead453ca60ac4aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8736bf91c03de609233ddb270fb77d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#aea8736bf91c03de609233ddb270fb77d">getLedRed</a> (void)</td></tr>
<tr class="separator:aea8736bf91c03de609233ddb270fb77d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5619292a562731e94f97e93432ab3639"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a5619292a562731e94f97e93432ab3639">getLedGreen</a> (void)</td></tr>
<tr class="separator:a5619292a562731e94f97e93432ab3639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcd68a87dc75dd0fe912483cc05fa43"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a8dcd68a87dc75dd0fe912483cc05fa43">getLedBlue</a> (void)</td></tr>
<tr class="separator:a8dcd68a87dc75dd0fe912483cc05fa43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc2642320c53819c83bbaa59bbcef9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#adfc2642320c53819c83bbaa59bbcef9b">setLedRed</a> (uint8_t intensity)</td></tr>
<tr class="separator:adfc2642320c53819c83bbaa59bbcef9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1955c0312d1fa90bfeb847dada48c8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#ae1955c0312d1fa90bfeb847dada48c8c">setLedGreen</a> (uint8_t intensity)</td></tr>
<tr class="separator:ae1955c0312d1fa90bfeb847dada48c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac09c0f3cea6025e2e12e8b6c5419434b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#ac09c0f3cea6025e2e12e8b6c5419434b">setLedBlue</a> (uint8_t intensity)</td></tr>
<tr class="separator:ac09c0f3cea6025e2e12e8b6c5419434b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Observer</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions related to Observer mode. Observer role allows the Bean to listen for advertisements. As a peripheral, the Bean cannot send scan response requests, but it can listen for undirected advertisements. Paired with the custom advertising role, you can have two Beans interact with each other. This role works even when the Bean is connected. </p>
</div></td></tr>
<tr class="memitem:a4d5307962a778b8cd8b792b196c5f908"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a4d5307962a778b8cd8b792b196c5f908">getObserverMessage</a> (ObseverAdvertisementInfo *message, unsigned long timeout)</td></tr>
<tr class="separator:a4d5307962a778b8cd8b792b196c5f908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Scratch</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Read and write arbitrary data using pre-defined BLE characteristics.</p>
<p>Scratch characteristics are Bluetooth Low Energy characteristics that Bean provides for arbitrary use by developers. Each characteristic can hold up to 20 bytes due to BLE restrictions.</p>
<p>Scratch characteristics will trigger Notify events on BLE Central clients when they are changed by Bean's Arduino sketch. Bean sketches must poll to find out when a client changes scratch characteristic data.</p>
<p>Bean and Bean+ have five scratch characteristics. All scratch chars are contained in a single BLE service.</p>
<ul>
<li><b>Scratch Service UUID:</b> <code>a495ff20-c5b1-4b44-b512-1370f02d74de</code></li>
<li><b>Scratch Characteristic UUIDs:</b><ol type="1">
<li><code>a495ff21-c5b1-4b44-b512-1370f02d74de</code></li>
<li><code>a495ff22-c5b1-4b44-b512-1370f02d74de</code></li>
<li><code>a495ff23-c5b1-4b44-b512-1370f02d74de</code></li>
<li><code>a495ff24-c5b1-4b44-b512-1370f02d74de</code></li>
<li><code>a495ff25-c5b1-4b44-b512-1370f02d74de</code></li>
</ol>
</li>
</ul>
<p>In the below methods, behavior is undefined when the <code>bank</code> parameter is not <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, or <code>5</code>. </p>
</div></td></tr>
<tr class="memitem:a6a8c9b33ada6cc7da1d9229dd0d7849e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a6a8c9b33ada6cc7da1d9229dd0d7849e">setScratchData</a> (uint8_t bank, const uint8_t *data, uint8_t dataLength)</td></tr>
<tr class="separator:a6a8c9b33ada6cc7da1d9229dd0d7849e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e7107c64bec91d676cdd534ac6bb4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a74e7107c64bec91d676cdd534ac6bb4d">setScratchNumber</a> (uint8_t bank, uint32_t data)</td></tr>
<tr class="separator:a74e7107c64bec91d676cdd534ac6bb4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b9029cc816e5ce21263be975aa6050"><td class="memItemLeft" align="right" valign="top">ScratchData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#af5b9029cc816e5ce21263be975aa6050">readScratchData</a> (uint8_t bank)</td></tr>
<tr class="separator:af5b9029cc816e5ce21263be975aa6050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c835abe680607ce956af4f7fa965a20"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a4c835abe680607ce956af4f7fa965a20">readScratchNumber</a> (uint8_t bank)</td></tr>
<tr class="separator:a4c835abe680607ce956af4f7fa965a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Sleep</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Bean power management functions to help save battery life. </p>
</div></td></tr>
<tr class="memitem:a15d6716d0bdc66a0345acc29d0c14a14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a15d6716d0bdc66a0345acc29d0c14a14">sleep</a> (uint32_t duration_ms)</td></tr>
<tr class="separator:a15d6716d0bdc66a0345acc29d0c14a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd5ae43b98270dfc94b98b2ecd66281"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#abbd5ae43b98270dfc94b98b2ecd66281">keepAwake</a> (bool enable)</td></tr>
<tr class="separator:abbd5ae43b98270dfc94b98b2ecd66281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639e425394c820a99025d136dddd3369"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a639e425394c820a99025d136dddd3369">enableWakeOnConnect</a> (bool enable)</td></tr>
<tr class="separator:a639e425394c820a99025d136dddd3369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Advertising</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Set and verify the Bean BLE advertising configuration.</p>
<p>Bean makes itself visible to BLE Central devices by broadcasting BLE advertising packets. If advertising is disabled, Central devices will not be able to find or connect to Bean.</p>
<p>Advertising is automatically enabled when Bean is powered on or resets. However, uploading a sketch that disables advertising indefinitely may make it impossible to connect to Bean. If this happens to you, see <a href="#">this guide (TODO: ADD GUIDE + LINK)</a> to clear the sketch stored on Bean. </p>
</div></td></tr>
<tr class="memitem:a32c0dc702c367caf274b72ba4a4cb8a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a32c0dc702c367caf274b72ba4a4cb8a2">setBeanName</a> (const String &amp;s)</td></tr>
<tr class="separator:a32c0dc702c367caf274b72ba4a4cb8a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b50d48ce0b6ccb3f267d1d7ba660dd3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a5b50d48ce0b6ccb3f267d1d7ba660dd3">getBeanName</a> (void)</td></tr>
<tr class="separator:a5b50d48ce0b6ccb3f267d1d7ba660dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41412684c0f01f06f260fb1e724475d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a41412684c0f01f06f260fb1e724475d9">setAdvertisingInterval</a> (uint16_t interval_ms)</td></tr>
<tr class="separator:a41412684c0f01f06f260fb1e724475d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bff2d903c4a543ba48f0ac1b392c7cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a9bff2d903c4a543ba48f0ac1b392c7cc">enableAdvertising</a> (bool enable, uint32_t timer)</td></tr>
<tr class="separator:a9bff2d903c4a543ba48f0ac1b392c7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade5d4c6a061eeb6d7897ef4c3b2c26d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#ade5d4c6a061eeb6d7897ef4c3b2c26d3">enableAdvertising</a> (bool enable)</td></tr>
<tr class="separator:ade5d4c6a061eeb6d7897ef4c3b2c26d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099bbffcf98e71f533f8277ec5274785"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a099bbffcf98e71f533f8277ec5274785">getAdvertisingState</a> (void)</td></tr>
<tr class="separator:a099bbffcf98e71f533f8277ec5274785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bbcf8d6db2a229d12838b2626e514d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a9bbcf8d6db2a229d12838b2626e514d0">enableCustom</a> (void)</td></tr>
<tr class="separator:a9bbcf8d6db2a229d12838b2626e514d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02201abea93983434dec1025c4957e83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a02201abea93983434dec1025c4957e83">disableCustom</a> (void)</td></tr>
<tr class="separator:a02201abea93983434dec1025c4957e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3cfcf31fe80a72bf6e4cf2cdaf99bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#add3cfcf31fe80a72bf6e4cf2cdaf99bb">setCustomAdvertisement</a> (uint8_t *buf, int len)</td></tr>
<tr class="separator:add3cfcf31fe80a72bf6e4cf2cdaf99bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">iBeacon</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Let your Bean act as an <a href="https://developer.apple.com/ibeacon/">iBeacon</a>, a way to convey real-world location to iOS devices.</p>
<p>Bean supports a limited subset of UUIDs available to iBeacon devices. A Bean iBeacon UUID is made up of 16 user-configurable bits and 112 preconfigured bits, where <code>xx</code> represents a user-configurable byte:</p>
<p><code>A495xxxx-C5B1-4B44-B512-1370F02D74DE</code></p>
<p>Major and minor IDs are used to identify the iBeacon with greater accuracy than with the UUID alone, and are both unsigned integers between 0 and 66535</p>
<p>Using iBeacon features will, by default, write to Bean's NVRAM. The NVRAM has a limited number of writes. Use <code>enableConfigSave</code> to store settings temporarily and conserve NVRAM writes. </p>
</div></td></tr>
<tr class="memitem:a31d4e4fa7d66ddf1988e456ecbf9dc58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a31d4e4fa7d66ddf1988e456ecbf9dc58">enableiBeacon</a> (void)</td></tr>
<tr class="separator:a31d4e4fa7d66ddf1988e456ecbf9dc58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b78a7b755cda9f066104f339638d69c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a3b78a7b755cda9f066104f339638d69c">setBeaconParameters</a> (uint16_t uuid, uint16_t major_id, uint16_t minor_id)</td></tr>
<tr class="separator:a3b78a7b755cda9f066104f339638d69c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354e2ff36d0e101b35255bae0a5e33ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a354e2ff36d0e101b35255bae0a5e33ca">setBeaconEnable</a> (bool beaconEnable)</td></tr>
<tr class="separator:a354e2ff36d0e101b35255bae0a5e33ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Battery</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Read the Bean's battery level. </p>
</div></td></tr>
<tr class="memitem:ac21fd79279f5e25c37609ff15e53cea1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#ac21fd79279f5e25c37609ff15e53cea1">getBatteryLevel</a> (void)</td></tr>
<tr class="separator:ac21fd79279f5e25c37609ff15e53cea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862784d57eca8dd368172612e5e792de"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a862784d57eca8dd368172612e5e792de">getBatteryVoltage</a> (void)</td></tr>
<tr class="separator:a862784d57eca8dd368172612e5e792de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Temperature</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Read the ambient temperature of the Bean. </p>
</div></td></tr>
<tr class="memitem:a711e837c145b51a8e95aa22a3fc9bcf9"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a711e837c145b51a8e95aa22a3fc9bcf9">getTemperature</a> (void)</td></tr>
<tr class="separator:a711e837c145b51a8e95aa22a3fc9bcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Connection</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Work with active BLE Central devices that connect to Bean. </p>
</div></td></tr>
<tr class="memitem:a1509dbbc3ddbd08725e2cb65a9289e90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a1509dbbc3ddbd08725e2cb65a9289e90">disconnect</a> (void)</td></tr>
<tr class="separator:a1509dbbc3ddbd08725e2cb65a9289e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab426b11e8bee60de92707254c0501c20"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#ab426b11e8bee60de92707254c0501c20">getConnectionState</a> (void)</td></tr>
<tr class="separator:ab426b11e8bee60de92707254c0501c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Bluetooth Services</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions dealing with Bluetooth service configurations and pairing. </p>
</div></td></tr>
<tr class="memitem:ae2547ba8f4b67a9ac774ce6d89b14dcb"><td class="memItemLeft" align="right" valign="top">BluetoothServices&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#ae2547ba8f4b67a9ac774ce6d89b14dcb">getServices</a> (void)</td></tr>
<tr class="separator:ae2547ba8f4b67a9ac774ce6d89b14dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b6e95f7b93e39ae83971ed796edd5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a17b6e95f7b93e39ae83971ed796edd5b">setServices</a> (BluetoothServices services)</td></tr>
<tr class="separator:a17b6e95f7b93e39ae83971ed796edd5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a040220137d9dd047250e247bd4ebd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a98a040220137d9dd047250e247bd4ebd">resetServices</a> (void)</td></tr>
<tr class="separator:a98a040220137d9dd047250e247bd4ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11cb6a1ec42d1af44af840dff1875d00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a11cb6a1ec42d1af44af840dff1875d00">setPairingPin</a> (uint32_t pin)</td></tr>
<tr class="separator:a11cb6a1ec42d1af44af840dff1875d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff90ba1cdb690b88c1b8b4917e71b32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#afff90ba1cdb690b88c1b8b4917e71b32">enablePairingPin</a> (bool enable)</td></tr>
<tr class="separator:afff90ba1cdb690b88c1b8b4917e71b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Other</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions that don't belong in any of the other categories. </p>
</div></td></tr>
<tr class="memitem:a2ae5aa1b912ca67715670f1dea865431"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a2ae5aa1b912ca67715670f1dea865431">enableConfigSave</a> (bool enableSave)</td></tr>
<tr class="separator:a2ae5aa1b912ca67715670f1dea865431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8823b48c41914a1a32d6dd3974ebf57d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_bean_class.html#a8823b48c41914a1a32d6dd3974ebf57d">restartBluetooth</a> (void)</td></tr>
<tr class="separator:a8823b48c41914a1a32d6dd3974ebf57d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3e743eb8cc8e5e04364f53801b8fe83e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BeanClass::accelRegisterRead </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Low level function for reading the accelerometers register directly</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reg</td><td>the register to read </td></tr>
    <tr><td class="paramname">length</td><td>the number of bytes to read starting at that register </td></tr>
    <tr><td class="paramname">value</td><td>a pointer to a user supplied array to fill with values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes actually read</dd></dl>
<h1>Examples</h1>
<p>This example uses a Bean as a motion alarm by reading/writing to the accelerometer register directly:</p>
<div class="fragment"><div class="line">// Create boolean to run loop persistently</div>
<div class="line">bool motionDetected = false;</div>
<div class="line">void setup() {</div>
<div class="line">  // Enable low-g motion events to be detected</div>
<div class="line">  Bean.enableMotionEvent(ANY_MOTION_EVENT);</div>
<div class="line">  // (The next two lines are equivalent to &quot;uint8_t value = Bean.getAccelerometerPowerMode()&quot;)</div>
<div class="line">  uint8_t value;</div>
<div class="line">  Bean.accelRegisterRead(REG_POWER_MODE_X11, 1, &amp;value);</div>
<div class="line">  if (value != VALUE_NORMAL_MODE) {</div>
<div class="line">    // Set accelerometer power mode to normal power mode if it isn&#39;t already</div>
<div class="line">    // (This is the same as &quot;Bean.setAccelerometerPowerMode(VALUE_NORMAL_MODE)&quot;)</div>
<div class="line">    Bean.accelRegisterWrite(REG_POWER_MODE_X11, VALUE_NORMAL_MODE);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Check for low-g movement</div>
<div class="line">  if (Bean.checkMotionEvent(ANY_MOTION_EVENT) &amp;&amp; !motionDetected) {</div>
<div class="line">    motionDetected = true;</div>
<div class="line">  } else if (!Bean.checkMotionEvent(ANY_MOTION_EVENT) &amp;&amp; !motionDetected) {</div>
<div class="line">    Bean.sleep(2000);  // Sleep for 2 seconds before rechecking</div>
<div class="line">  }</div>
<div class="line">  if (motionDetected) {</div>
<div class="line">    // If motion is detected, blue/red lights will flash continuously</div>
<div class="line">    Bean.setLed(255, 0, 0);</div>
<div class="line">    Bean.sleep(500);</div>
<div class="line">    Bean.setLed(0, 0, 255);</div>
<div class="line">    Bean.sleep(500);</div>
<div class="line">    Bean.setLed(255, 0, 0);</div>
<div class="line">    Bean.sleep(500);</div>
<div class="line">    Bean.setLed(0, 0, 255);</div>
<div class="line">    Bean.sleep(500);</div>
<div class="line">    Bean.setLed(255, 0, 0);</div>
<div class="line">    Bean.sleep(500);</div>
<div class="line">    Bean.setLed(0, 0, 255);</div>
<div class="line">    Bean.sleep(500);</div>
<div class="line">    Serial.print(&quot;Motion has been detected; &quot;);</div>
<div class="line">    Serial.println();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a47244506c985ef7aead3695811002ad2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::accelRegisterWrite </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Low level function for writing directly to the accelerometers registers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reg</td><td>the register to write to </td></tr>
    <tr><td class="paramname">value</td><td>the value to write to the register </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a75492018fa92ad32c06a12ce456dc74c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BeanClass::checkMotionEvent </td>
          <td>(</td>
          <td class="paramtype">AccelEventTypes&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks to see if a particular acclerometer interrupt has occured. If the event occurs it sets a flag that can only be cleared by reading this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">accepts</td><td>an event of type AccelEventTypes</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example sets off police lights on the Bean if motion is detected:</p>
<div class="fragment"><div class="line">// Create boolean to run loop persistently</div>
<div class="line">bool motionDetected = false;</div>
<div class="line">void setup() {</div>
<div class="line">  // Enable low-g motion events to be detected</div>
<div class="line">  Bean.enableMotionEvent(ANY_MOTION_EVENT);</div>
<div class="line">  // Make sure accelerometer is in normal power mode</div>
<div class="line">  if (Bean.getAccelerometerPowerMode() != VALUE_NORMAL_MODE) {</div>
<div class="line">    // Set accelerometer power mode to normal</div>
<div class="line">    Bean.setAccelerometerPowerMode(VALUE_NORMAL_MODE);</div>
<div class="line">  }</div>
<div class="line">  // Initially set LED to blank</div>
<div class="line">  Bean.setLed(0, 0, 0);</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Check for low-g movement</div>
<div class="line">  if (Bean.checkMotionEvent(ANY_MOTION_EVENT) &amp;&amp; !motionDetected) {</div>
<div class="line">    motionDetected = true;</div>
<div class="line">  } else if (!Bean.checkMotionEvent(ANY_MOTION_EVENT) &amp;&amp; !motionDetected) {</div>
<div class="line">    Bean.sleep(2000);  // Sleep for 2 seconds before rechecking</div>
<div class="line">  }</div>
<div class="line">  if (motionDetected) {</div>
<div class="line">    // If motion is detected, blue/red lights will flash continuously</div>
<div class="line">    Bean.setLed(255, 0, 0);</div>
<div class="line">    Bean.sleep(100);</div>
<div class="line">    Bean.setLed(0, 0, 255);</div>
<div class="line">    Bean.sleep(100);</div>
<div class="line">    Bean.setLed(255, 0, 0);</div>
<div class="line">    Bean.sleep(100);</div>
<div class="line">    Bean.setLed(0, 0, 255);</div>
<div class="line">    Bean.sleep(100);</div>
<div class="line">    Bean.setLed(255, 0, 0);</div>
<div class="line">    Bean.sleep(100);</div>
<div class="line">    Bean.setLed(0, 0, 255);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a02201abea93983434dec1025c4957e83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::disableCustom </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables custom advertisement. </p>

</div>
</div>
<a class="anchor" id="a0f9fb65a465070f9f3e9cdf4f2687bdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::disableMotionEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables all currently enabled accelerometer interrupts </p>

</div>
</div>
<a class="anchor" id="a1509dbbc3ddbd08725e2cb65a9289e90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::disconnect </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Terminate the connection between Bean and the connected BLE Central device. If no Central device is connected, this method does nothing. </p>

</div>
</div>
<a class="anchor" id="a9bff2d903c4a543ba48f0ac1b392c7cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::enableAdvertising </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable BLE advertising for a specific duration.</p>
<p>Advertising is automatically enabled when Bean is powered on or resets. Configuration changes made by calling this method are <b>not</b> stored in non-volatile memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>true to enable advertising, false to disable </td></tr>
    <tr><td class="paramname">timer</td><td>the duration to enable/disable advertising, in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example disables advertising for 10 seconds when digital pin 0 is pulled low:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Configure digital pin 0 as an input in pullup mode</div>
<div class="line">  pinMode(0, INPUT_PULLUP);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Read digital pin 0</div>
<div class="line">  if (!digitalRead(0)) {</div>
<div class="line">    // D0 is LOW; disable advertising for 10 seconds</div>
<div class="line">    Bean.enableAdvertising(false, 10000);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  Bean.sleep(1000);  // Sleep for 1 second</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ade5d4c6a061eeb6d7897ef4c3b2c26d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::enableAdvertising </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable BLE advertising.</p>
<p>Advertising is automatically enabled when Bean is powered on or resets. Configuration changes made by calling this method are <b>not</b> stored in non-volatile memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>true to enable advertising, false to disable</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example disables advertising when digital pin 0 is pulled low and enables it otherwise:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Configure digital pin 0 as an input in pullup mode</div>
<div class="line">  pinMode(0, INPUT_PULLUP);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Read digital pin 0</div>
<div class="line">  if (digitalRead(0)) {</div>
<div class="line">    // D0 is HIGH; enable advertising</div>
<div class="line">    Bean.enableAdvertising(true);</div>
<div class="line">  } else {</div>
<div class="line">    // D0 is LOW; disable advertising</div>
<div class="line">    Bean.enableAdvertising(false);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  Bean.sleep(1000);  // Sleep for 1 second</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a2ae5aa1b912ca67715670f1dea865431"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::enableConfigSave </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enableSave</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows temporary storage of BLE configuration settings, as opposed to permanent storage in non-volatile memory (NVRAM).</p>
<p>Bean can only write to NVRAM a maximum of 20,000 times. If your sketch changes its advertising configuration frequently, it will quickly use up all of your Bean NVRAM's writes. To prevent this, disable saving to NVRAM first.</p>
<p>Configurations written while NVRAM saving is disabled will persist until the Bean is power cycled.</p>
<p>When the Bean is power cycled, saving to NVRAM is re-enabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enableSave</td><td>true to disable saving to NVRAM, false to enable</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example enables settings that will only be used temporarily because enableConfigSave is used:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Set enableConfigSave to true to save settings temporarily</div>
<div class="line">  Bean.enableConfigSave(false);</div>
<div class="line">  // Enable some settings which will be temporary now</div>
<div class="line">  Bean.enableAdvertising(true);</div>
<div class="line">  Bean.enableCustom();</div>
<div class="line">  Bean.enableiBeacon();</div>
<div class="line">  // These settings will be reset to default upon rebooting the Bean</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Do anything here with new temporary settings</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a9bbcf8d6db2a229d12838b2626e514d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::enableCustom </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables custom advertisement. The Bean will enter a rotating advertisement mode where it will advertise as a bean for a few moments then advertise whatever is in the custom advertisement packet and back again </p>

</div>
</div>
<a class="anchor" id="a31d4e4fa7d66ddf1988e456ecbf9dc58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::enableiBeacon </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Works very similarly to setBeaconEnable. The primary difference being that enableiBeacon adds the beacon advertisement to a rotating adverisement instead of overrwriting the current standard Bean advertisement. Parameters are still set with the setBeaconParameters function. </p>

</div>
</div>
<a class="anchor" id="a9d2f98bbb1b8a715c0fe549c438f44ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::enableMotionEvent </td>
          <td>(</td>
          <td class="paramtype">AccelEventTypes&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable accelerometer interrupts</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">accepts</td><td>an event of type AccelEventTypes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afff90ba1cdb690b88c1b8b4917e71b32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::enablePairingPin </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables or disables pairing PIN functionality.</p>
<p>The default PIN is 000000. This can be changed using <code>setPairingPin</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">true</td><td>to enable, false to disable </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a639e425394c820a99025d136dddd3369"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::enableWakeOnConnect </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable wake on connect. By default, Bean does not wake up when a BLE client connects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>true to enable wake on connect, false to disable</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example wakes Bean when a client connects, waits for the client to disconnect, and sleeps on disconnect:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Configure Bean to wake up when a client connects</div>
<div class="line">  Bean.enableWakeOnConnect(true);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">// Loop runs once at program start.</div>
<div class="line">// When a client connects, Bean wakes up and runs loop again.</div>
<div class="line">// Loop continues to run as long as a client is connected.</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Check if client has disconnected</div>
<div class="line">  bool connected = Bean.getConnectionState();</div>
<div class="line"></div>
<div class="line">  if (connected) {</div>
<div class="line">    // Client connected: set LED to green</div>
<div class="line">    Bean.setLed(0, 255, 0);</div>
<div class="line"></div>
<div class="line">  } else {</div>
<div class="line">    // Client disconnected: turn off LED</div>
<div class="line">    Bean.setLed(0, 0, 0);</div>
<div class="line"></div>
<div class="line">    // This sketch runs only when a client is connected.</div>
<div class="line">    // This might be useful for interactive installations, where you don&#39;t want</div>
<div class="line">    // Bean to spend any power unless someone is actively connected.</div>
<div class="line"></div>
<div class="line">    // Sleep for a long time to conserve power.</div>
<div class="line">    // 0xFFFFFFFF = 4,294,967,295 milliseconds = 49 days</div>
<div class="line">    Bean.sleep(0xFFFFFFFF);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a53f2174dd2f3c2907acc3355cef64842"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AccelerationReading BeanClass::getAcceleration </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current value of all axes and the current sensitivity setting from the Bean accelerometer.</p>
<dl class="section return"><dt>Returns</dt><dd>an AccelerationReading object containing current acceleration and sensitivity </dd></dl>

</div>
</div>
<a class="anchor" id="ad08dec6f240de8a53f110ddf066f6ab2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BeanClass::getAccelerationRange </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current sensitivity setting of the Bean accelerometer.</p>
<dl class="section return"><dt>Returns</dt><dd>2, 4, 8, or 16, corresponding to ±2g, ±4g, ±8g, or ±16g </dd></dl>

</div>
</div>
<a class="anchor" id="a00cf73de73eeb00d220efa32a830d6ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t BeanClass::getAccelerationX </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current value of the Bean accelerometer X axis.</p>
<dl class="section return"><dt>Returns</dt><dd>a 10-bit value corresponding to the current X axis acceleration </dd></dl>

</div>
</div>
<a class="anchor" id="aba0554ca18558748b67205bd5bdcaeac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t BeanClass::getAccelerationY </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current value of the Bean accelerometer Y axis.</p>
<dl class="section return"><dt>Returns</dt><dd>a 10-bit value corresponding to the current Y axis acceleration </dd></dl>

</div>
</div>
<a class="anchor" id="a5c977e7b185ebc038335228d8ef1d0b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t BeanClass::getAccelerationZ </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current value of the Bean accelerometer Z axis.</p>
<dl class="section return"><dt>Returns</dt><dd>a 10-bit value corresponding to the current Z axis acceleration </dd></dl>

</div>
</div>
<a class="anchor" id="afb4f9a75f687547ff8f6cb4146ab30fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BeanClass::getAccelerometerPowerMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get power mode of the accelerometer</p>
<dl class="section return"><dt>Returns</dt><dd>the power mode of the accelerometer</dd></dl>
<p>Power modes: Normal mode: 0x00 (~140uA) Suspend mode: 0x80 (~0.5uA) Low Power 10ms: 0x54 (~16.4uA) Low Power 100ms: 0x5A (~2.3uA) Low Power 1s: 0x5E (~0.7uA) </p>

</div>
</div>
<a class="anchor" id="a099bbffcf98e71f533f8277ec5274785"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BeanClass::getAdvertisingState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the Bean is currently advertising.</p>
<dl class="section return"><dt>Returns</dt><dd>true if Bean is advertising, false if Bean is not advertising</dd></dl>
<h1>Examples</h1>
<p>This example toggles Bean's advertising every 15 seconds and indicates the current advertising status with the LED:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // We don&#39;t need to set anything up here</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  bool advertising = Bean.getAdvertisingState();</div>
<div class="line"></div>
<div class="line">  if (advertising) {</div>
<div class="line">    // Bean is currently advertising.</div>
<div class="line">    // Disable advertising and set the LED to red.</div>
<div class="line">    Bean.setLed(255, 0, 0);</div>
<div class="line">  } else {</div>
<div class="line">    // Bean is not advertising.</div>
<div class="line">    // Enable advertising and set the LED to green.</div>
<div class="line">    Bean.setLed(0, 255, 0);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  Bean.sleep(15000);  // Sleep for 15 seconds</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ac21fd79279f5e25c37609ff15e53cea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BeanClass::getBatteryLevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current battery level, in percent.</p>
<dl class="section return"><dt>Returns</dt><dd>a value in the range 0 to 100: 0 = 1.95 V, 100 = 3.53 V </dd></dl>

</div>
</div>
<a class="anchor" id="a862784d57eca8dd368172612e5e792de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BeanClass::getBatteryVoltage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current battery voltage, in volts.</p>
<p>Accuracy is ±0.01 V.</p>
<dl class="section return"><dt>Returns</dt><dd>a value in the range 195 to 353: 195 = 1.95 V, 353 = 3.53 V</dd></dl>
<h1>Examples</h1>
<p>This example will display a Bean's respective current battery level and voltage every 5 seconds:</p>
<div class="fragment"></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a5b50d48ce0b6ccb3f267d1d7ba660dd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* BeanClass::getBeanName </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the currently-advertised name of the Bean.</p>
<dl class="section return"><dt>Returns</dt><dd>The Bean name as a char array, null-terminated</dd></dl>
<h1>Examples</h1>
<p>This example prints Bean's name to Virtual Serial every two seconds:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Set up serial communication</div>
<div class="line">  Serial.begin(57600);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Retrieve the name of this Bean</div>
<div class="line">  const char *name = Bean.getBeanName();</div>
<div class="line"></div>
<div class="line">  // And print it</div>
<div class="line">  Serial.print(&quot;My name is &quot;);</div>
<div class="line">  Serial.println(name);</div>
<div class="line"></div>
<div class="line">  // Then sleep for 2 seconds</div>
<div class="line">  Bean.sleep(2000);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ab426b11e8bee60de92707254c0501c20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BeanClass::getConnectionState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if any BLE Central devices are currently connected to Bean.</p>
<dl class="section return"><dt>Returns</dt><dd>true if a device is connected, false otherwise</dd></dl>
<h1>Examples</h1>
<p>This example blinks the LED on the Bean green if connected, red if disconnected:</p>
<div class="fragment"></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ab73794fbf27d0297ead453ca60ac4aaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LedReading BeanClass::getLed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get current intensity values for the color channels of the Bean RGB LED.</p>
<dl class="section return"><dt>Returns</dt><dd><code>LedReading</code> struct that contains an integer representation of each color.</dd></dl>
<h1>Examples</h1>
<p>This example shows the usage of the <a class="el" href="class_bean_class.html#ab73794fbf27d0297ead453ca60ac4aaf">getLed()</a> function and how to interperet the return value.</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Serial port is initialized automatically; we don&#39;t have to do anything</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  LedReading rgbSetting = Bean.getLed();</div>
<div class="line">  Serial.print(&quot;  Red: &quot;);</div>
<div class="line">  Serial.println(rgbSetting.red);</div>
<div class="line">  Serial.print(&quot;Green: &quot;);</div>
<div class="line">  Serial.println(rgbSetting.green);</div>
<div class="line">  Serial.print(&quot; Blue: &quot;);</div>
<div class="line">  Serial.println(rgbSetting.blue);</div>
<div class="line">  Bean.sleep(2000);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a8dcd68a87dc75dd0fe912483cc05fa43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BeanClass::getLedBlue </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get intensity of the blue channel of the Bean RGB LED. 0 is off and 255 is on.</p>
<dl class="section return"><dt>Returns</dt><dd>0 for off and 255 for on. </dd></dl>

</div>
</div>
<a class="anchor" id="a5619292a562731e94f97e93432ab3639"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BeanClass::getLedGreen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get intensity of the green channel of the Bean RGB LED. 0 is off and 255 is on.</p>
<dl class="section return"><dt>Returns</dt><dd>0 for off and 255 for on. </dd></dl>

</div>
</div>
<a class="anchor" id="aea8736bf91c03de609233ddb270fb77d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BeanClass::getLedRed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get intensity of the red channel of the Bean RGB LED. 0 is off and 255 is on.</p>
<dl class="section return"><dt>Returns</dt><dd>0 for off and 255 for on. </dd></dl>

</div>
</div>
<a class="anchor" id="a4d5307962a778b8cd8b792b196c5f908"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BeanClass::getObserverMessage </td>
          <td>(</td>
          <td class="paramtype">ObseverAdvertisementInfo *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Listens for advertisements and fills an ObserverAdvertisementInfo message with the first advertisement it sees This function blocks until it receives a message or times out.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>a pointer to a message object supplied by the user </td></tr>
    <tr><td class="paramname">timeout</td><td>how long in milliseconds to listen for an advertisement </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was a failure, 1 if there was a success</dd></dl>
<h1>Examples</h1>
<p>This sketch (observer.ino) demonstrates Bean's observer role functionality.</p>
<p>When a Bean running this sketch is near a Bean running advertiser.ino, it will change its LED to reflect the state of the LED on the advertising Bean.</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Serial port is initialized automatically; we don&#39;t have to do anything</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">uint8_t expectedPacket[] = {</div>
<div class="line">    // general discoverable mode advertises indefinitely</div>
<div class="line">    0x02,  // length of this data</div>
<div class="line">    GAP_ADTYPE_FLAGS,</div>
<div class="line">    GAP_ADTYPE_FLAGS_GENERAL | GAP_ADTYPE_FLAGS_BREDR_NOT_SUPPORTED,</div>
<div class="line"></div>
<div class="line">    // two-byte broadcast</div>
<div class="line">    0x03,  // length of this data including the data type byte</div>
<div class="line">    GAP_ADTYPE_MANUFACTURER_SPECIFIC,</div>
<div class="line">    0xAC  // arbitrary data so we can make sure this is</div>
<div class="line">          // the Bean we&#39;re looking for</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  uint32_t start = millis();</div>
<div class="line"></div>
<div class="line">  ObseverAdvertisementInfo info;</div>
<div class="line">  int res = Bean.getObserverMessage(&amp;info, 2000);</div>
<div class="line">  if (res == 1) {</div>
<div class="line">    Serial.print(info.eventType);</div>
<div class="line">    Serial.print(&#39;,&#39;);</div>
<div class="line">    Serial.print(info.addrType);</div>
<div class="line">    Serial.print(&#39;,&#39;);</div>
<div class="line">    Serial.print(&quot;addr: &quot;);</div>
<div class="line">    for (int i = 0; i &lt; 6; i++) {</div>
<div class="line">      Serial.print(info.addr[i]);</div>
<div class="line">      Serial.print(&#39;,&#39;);</div>
<div class="line">    }</div>
<div class="line">    Serial.print(&quot;  advData: &quot;);</div>
<div class="line">    for (int i = 0; i &lt; info.dataLen; i++) {</div>
<div class="line">      Serial.print(info.advData[i], HEX);</div>
<div class="line">      Serial.print(&#39;,&#39;);</div>
<div class="line">    }</div>
<div class="line">    Serial.println();</div>
<div class="line"></div>
<div class="line">    // check to see if this packet is form the custom advertiser</div>
<div class="line">    bool isEqual = true;</div>
<div class="line">    for (int i = 0; i &lt; sizeof(expectedPacket) - 1; i++) {</div>
<div class="line">      if (expectedPacket[i] != info.advData[i]) {</div>
<div class="line">        isEqual = false;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    if (isEqual) {</div>
<div class="line">      Serial.println(&quot;Custom adv found&quot;);</div>
<div class="line">      if (info.advData[6] == 0) {</div>
<div class="line">        Bean.setLedGreen(60);</div>
<div class="line">      } else {</div>
<div class="line">        Bean.setLedGreen(0);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ae2547ba8f4b67a9ac774ce6d89b14dcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BluetoothServices BeanClass::getServices </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a struct of all of the currently services and whether or not they are enabled. </p>

</div>
</div>
<a class="anchor" id="a711e837c145b51a8e95aa22a3fc9bcf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t BeanClass::getTemperature </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the current temperature of the Bean, in degrees Celsius. The Bean uses the BMA250 (<a href="http://ae-bst.resource.bosch.com/media/products/dokumente/bma250/bst-bma250-ds002-05.pdf">datasheet</a>) for temperature readings.</p>
<dl class="section return"><dt>Returns</dt><dd>temperature, between -40 and 88 degrees Celsius</dd></dl>
<h1>Examples</h1>
<p>This example changes the color of the LED based on the temperature reading of the Bean:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Serial port is initialized automatically; we don&#39;t have to do anything</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Get temperature reading</div>
<div class="line">  int temperature = Bean.getTemperature();</div>
<div class="line">  // Set LED color based on temperature of the Bean</div>
<div class="line">  if (temperature &gt; 80) {</div>
<div class="line">    Bean.setLed(255, 0, 0);  // Set LED red</div>
<div class="line">  } else if (temperature &gt; 60) {</div>
<div class="line">    Bean.setLed(255, 150, 0);  // Set LED orange</div>
<div class="line">  } else if (temperature &gt; 40) {</div>
<div class="line">    Bean.setLed(255, 255, 0);  // Set LED yellow</div>
<div class="line">  } else if (temperature &gt; 20) {</div>
<div class="line">    Bean.setLed(0, 255, 0);  // Set LED green</div>
<div class="line">  } else {</div>
<div class="line">    Bean.setLed(0, 0, 255);  // Set LED blue</div>
<div class="line">  }</div>
<div class="line">  Bean.sleep(5000);  // Sleep for 5 seconds before rechecking temperature</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="abbd5ae43b98270dfc94b98b2ecd66281"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::keepAwake </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable keep-awake mode.</p>
<p>By default, the Bean radio sleeps frequently to conserve power. Enabling keep-awake forces the LBM into wake mode and decreases latency between the LBM313 and the ATmega.</p>
<p>This may be useful if you are having trouble with latency between an event and a Bluetooth transmission: for example, to decrease the time between Bean reading a pin change event and sending a Bluetooth message.</p>
<p>Enabling keep-awake may signficantly decrease battery life. Use with caution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">true</td><td>to enable keep-awake, false to disable</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example keeps the Bean awake to reduce latency between reading a pinstate and transmitting Bluetooth information:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Keep Bean awake to reduce latency between certain events</div>
<div class="line">  Bean.keepAwake(true);</div>
<div class="line">  pinMode(0, INPUT_PULLUP);</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Read digital pin 0</div>
<div class="line">  if (!digitalRead(0)) {</div>
<div class="line">    // D0 is LOW; check to see if BLE connected to any devices</div>
<div class="line">    bool connectionState = Bean.getConnectionState();</div>
<div class="line">    Serial.println(connectionState);  // True if connected to a device, false if not</div>
<div class="line">  }</div>
<div class="line">  Bean.sleep(1000);  // Sleep for 1 second</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="af5b9029cc816e5ce21263be975aa6050"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ScratchData BeanClass::readScratchData </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bank</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the data from a scratch characteristic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bank</td><td>The index of the source scratch char: <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, or <code>5</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The contents of the scratch characteristic</dd></dl>
<h1>Examples</h1>
<p>This example polls a scratch characteristic and blinks Bean's LED if the value changes:</p>
<div class="fragment"><div class="line">// Holds the last data we read from scratch characteristic 1</div>
<div class="line">ScratchData lastScratch;</div>
<div class="line"></div>
<div class="line">// Compare two ScratchData objects.</div>
<div class="line">// Return true if they contain the same bytes in the same order.</div>
<div class="line">bool compareScratch(ScratchData *scratch1, ScratchData *scratch2) {</div>
<div class="line">  // If they contain different numbers of bytes, they can&#39;t be equal,</div>
<div class="line">  // so return false</div>
<div class="line">  if (scratch1-&gt;length != scratch2-&gt;length) {</div>
<div class="line">    return false;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  // Compare each byte in order and return false if two bytes don&#39;t match</div>
<div class="line">  for (int i = 0; i &lt; scratch1-&gt;length; i++) {</div>
<div class="line">    if (scratch1-&gt;data[i] != scratch2-&gt;data[i]) {</div>
<div class="line">      return false;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  // If we&#39;ve gotten this far, every byte in both ScratchData objects matches</div>
<div class="line">  return true;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void setup() {</div>
<div class="line">  // We don&#39;t need to set anything up here</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Read data from scratch characteristic 1</div>
<div class="line">  ScratchData thisScratch = Bean.readScratchData(1);</div>
<div class="line"></div>
<div class="line">  // Compare the data we just read with the data we saw last time</div>
<div class="line">  bool matched = compareScratch(&amp;thisScratch, &amp;lastScratch);</div>
<div class="line"></div>
<div class="line">  // Save the data we just read for our next comparison</div>
<div class="line">  lastScratch = thisScratch;</div>
<div class="line"></div>
<div class="line">  if (!matched) {</div>
<div class="line">    // Set the LED to green for 1 second if the data has changed</div>
<div class="line">    Bean.setLed(0, 255, 0);</div>
<div class="line">    Bean.sleep(1000);</div>
<div class="line">    Bean.setLed(0, 0, 0);</div>
<div class="line">  } else {</div>
<div class="line">    // Otherwise, just sleep for one second and check again</div>
<div class="line">    Bean.sleep(1000);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a4c835abe680607ce956af4f7fa965a20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long BeanClass::readScratchNumber </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bank</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a 32-bit (four-byte) value from a scratch characteristic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bank</td><td>The index of the source scratch char: <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, or <code>5</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of the scratch characteristic</dd></dl>
<h1>Examples</h1>
<p>This example writes a value to and reads a value from a scratch characteristic:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Serial port is initialized automatically; we don&#39;t have to do anything</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Write a 32-bit number to scratch characteristic 1</div>
<div class="line">  // Connect to Bean with LightBlue to view the hex bytes</div>
<div class="line">  Bean.setScratchNumber(1, millis());</div>
<div class="line">  // Then wait a bit</div>
<div class="line">  Bean.sleep(250);</div>
<div class="line"></div>
<div class="line">  // Read the number back and print it via serial</div>
<div class="line">  uint32_t number = Bean.readScratchNumber(1);</div>
<div class="line">  Serial.print(&quot;Number: &quot;);</div>
<div class="line">  Serial.println(number);</div>
<div class="line"></div>
<div class="line">  // Then wait a bit and try again</div>
<div class="line">  Bean.sleep(750);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a98a040220137d9dd047250e247bd4ebd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::resetServices </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets services leaving only the primary standard Bean service advertising. </p>

</div>
</div>
<a class="anchor" id="a8823b48c41914a1a32d6dd3974ebf57d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::restartBluetooth </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a hard reset on the bluetooth module. </p>

</div>
</div>
<a class="anchor" id="acb8e9a741e2538393256f95d27c4571d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setAccelerationRange </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>range</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure the sensitivity of the Bean accelerometer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">range</td><td>2, 4, 8, or 16, corresponding to ±2g, ±4g, ±8g, or ±16g</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example prints out the acceleration values associated with high and low g-force values:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Enable motion events to see how they&#39;re calibrated</div>
<div class="line">  Bean.enableMotionEvent(LOW_G_EVENT);</div>
<div class="line">  Bean.enableMotionEvent(HIGH_G_EVENT);</div>
<div class="line">  // Configure accelerometer to sense ±16g if it&#39;s not set already</div>
<div class="line">  if (Bean.getAccelerationRange() != 16) {</div>
<div class="line">    Bean.setAccelerationRange(16);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Sleep forever while transmitting iBeacon location data</div>
<div class="line">  if (Bean.checkMotionEvent(HIGH_G_EVENT)) {</div>
<div class="line">    Serial.print(&quot;High-g event detected: &quot;);</div>
<div class="line">    printAcceleration(Bean.getAcceleration());</div>
<div class="line">    // Blink green LED</div>
<div class="line">    Bean.setLed(0, 255, 0);</div>
<div class="line">    Bean.sleep(1000);</div>
<div class="line">  } else if (Bean.checkMotionEvent(LOW_G_EVENT)) {</div>
<div class="line">    Serial.print(&quot;Low-g event detected: &quot;);</div>
<div class="line">    printAcceleration(Bean.getAcceleration());</div>
<div class="line">    // Blink yellow LED</div>
<div class="line">    Bean.setLed(255, 255, 0);</div>
<div class="line">    Bean.sleep(1000);</div>
<div class="line">  } else {</div>
<div class="line">    Serial.print(&quot;No movement detected: &quot;);</div>
<div class="line">    printAcceleration(Bean.getAcceleration());</div>
<div class="line">    // Blink red LED</div>
<div class="line">    Bean.setLed(255, 0, 0);</div>
<div class="line">    Bean.sleep(1000);</div>
<div class="line">  }</div>
<div class="line">  Bean.sleep(1000);  // Sleep and recheck every second</div>
<div class="line">}</div>
<div class="line">void printAcceleration(AccelerationReading acceleration) {</div>
<div class="line">  // Print axes of acceleration in a nice-looking way</div>
<div class="line">  Serial.print(&quot;(x= &quot;);</div>
<div class="line">  Serial.print(acceleration.xAxis);  // Same as getAccelerationX()</div>
<div class="line">  Serial.print(&quot;, y= &quot;);</div>
<div class="line">  Serial.print(acceleration.yAxis);  // Same as getAccelerationY()</div>
<div class="line">  Serial.print(&quot;, z= &quot;);</div>
<div class="line">  Serial.print(acceleration.zAxis);  // Same as getAccelerationZ()</div>
<div class="line">  Serial.println(&quot;)&quot;);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a4eebb09ead4b598ef56c359ed14141be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setAccelerometerPowerMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set power mode of the accelerometer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>the power mode of the accelerometer</td></tr>
  </table>
  </dd>
</dl>
<p>Power modes: Normal mode: 0x00 (~140uA) Suspend mode: 0x80 (~0.5uA) Low Power 10ms: 0x54 (~16.4uA) Low Power 100ms: 0x5A (~2.3uA) Low Power 1s: 0x5E (~0.7uA) </p>

</div>
</div>
<a class="anchor" id="a41412684c0f01f06f260fb1e724475d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setAdvertisingInterval </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>interval_ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the Beans advertisement interval. This is useful if you are trying to optimize battery life at the exense of advertisement rates and can also be useful for increasing beacon advertisement rates. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interval_ms</td><td>length of advertisement interval in milliseconds. Minimum of BEAN_MIN_ADVERTISING_INT_MS and max of BEAN_MAX_ADVERTISING_INT_MS </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a354e2ff36d0e101b35255bae0a5e33ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setBeaconEnable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>beaconEnable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable iBeacon functionality.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">beaconEnable</td><td>true to enable iBeacon, false to disable </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b78a7b755cda9f066104f339638d69c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setBeaconParameters </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>major_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>minor_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure Bean's iBeacon UUID, major ID, and minor ID. Each of these parameters, <b>including UUID</b>, takes 16-bit unsigned values. For more information on UUID, major, and minor values, see <a href="https://support.kontakt.io/hc/en-gb/articles/201620741-iBeacon-Parameters-UUID-Major-and-Minor">this iBeacon FAQ</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uuid</td><td>The 16-bit value used to set part of the iBeacon UUID. For example: Passing <code>0xABCD</code> to <code>uuid</code> will set the Bean's UUID to <code>A495ABCD-C5B1-4B44-B512-1370F02D74DE</code>. </td></tr>
    <tr><td class="paramname">major_id</td><td>The major ID of the iBeacon </td></tr>
    <tr><td class="paramname">major_id</td><td>The minor ID of the iBeacon</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example configures iBeacon and uses the Bean only to advertise and transmit iBeacon data:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  /* Configure beacon with:</div>
<div class="line">  *  ----------------------</div>
<div class="line">  *  UUID: A495-BEEF-C5B1-4B44-B512-1370F02D74DE</div>
<div class="line">  *  Major ID: 0 (Any unsigned int 0-66535)</div>
<div class="line">  *  Minor ID: 65535 (Any unsigned int 0-66535)</div>
<div class="line">  */</div>
<div class="line">  Bean.setBeaconParameters(0xBEEF, 0, 999);</div>
<div class="line">  // Enable iBeacon</div>
<div class="line">  Bean.setBeaconEnable(true);</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Blink LED to verify the sketch is working</div>
<div class="line">  Bean.setLed(0, 0, 100);</div>
<div class="line">  Bean.sleep(100);</div>
<div class="line">  Bean.setLed(0, 0, 0);</div>
<div class="line">  Bean.sleep(5000);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a32c0dc702c367caf274b72ba4a4cb8a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setBeanName </td>
          <td>(</td>
          <td class="paramtype">const String &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the advertising name of the Bean. BLE advertising names are truncated at 20 bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The name to be advertised</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example changes Bean's name based on its temperature:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Disable writing to NVRAM to preserve its lifespan,</div>
<div class="line">  // since we are setting a new Bean name every 15 seconds</div>
<div class="line">  Bean.enableConfigSave(false);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Get the temperature</div>
<div class="line">  int temperature = Bean.getTemperature();</div>
<div class="line"></div>
<div class="line">  // Build a new name for Bean using the temperature</div>
<div class="line">  String name = &quot;Temp is &quot;;</div>
<div class="line">  name += temperature;</div>
<div class="line">  name += &quot; C&quot;;</div>
<div class="line"></div>
<div class="line">  // Set Bean&#39;s new name</div>
<div class="line">  Bean.setBeanName(name);</div>
<div class="line"></div>
<div class="line">  // Sleep for 15 seconds, then read the temperature again</div>
<div class="line">  Bean.sleep(15000);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="add3cfcf31fe80a72bf6e4cf2cdaf99bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setCustomAdvertisement </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the custom advertisement packet. The max length is 31 bytes. The first 3 bytes specify the advertisement mode. They take the form 0x2, GAP_ADTYPE_FLAGS, any sum of advertisement types (as defined by AdvertisementType) All following data are up to the user to define and follow the pattern of [length, AdvertisementDataTypes, data1, data2, ...] where length includes the number of data plus 1 (for the AdvertisementDataTypes) The data can be chained together into the single buffer up to the maxiumum length. For example: [0x02, GAP_ADTYPE_FLAGS, GAP_ADTYPE_FLAGS_BREDR_NOT_SUPPORTED + GAP_ADTYPE_FLAGS_GENERAL, 0x02, GAP_ADTYPE_MANUFACTURER_SPECIFIC, 42, 0x02, GAP_ADTYPE_POWER_LEVEL, 10, ...]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>a buffer full of data to advertise </td></tr>
    <tr><td class="paramname">len</td><td>the length of the buffer</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This sketch (advertiser.ino) will enable a custom advertisement for the Bean. It will broadcast the following packet:</p>
<p><code>{0x02, GAP_ADTYPE_FLAGS (0x01), GAP_ADTYPE_FLAGS_GENERAL | GAP_ADTYPE_FLAGS_BREDR_NOT_SUPPORTED (0x06), 0x03, GAP_ADTYPE_MANUFACTURER_SPECIFIC (0xFF), 0xAC, 0x0n}</code></p>
<p>When pin 0 is pulled to ground, Bean will toggle the green LED. It will also set the last byte in the advertisement packet to reflect the LED's on state. When used in conjunction with observer.ino, the observer Bean will see this packet and will turn its light on.</p>
<div class="fragment"><div class="line">// debounce code</div>
<div class="line">int buttonState;            // the current input</div>
<div class="line">int lastButtonState = LOW;  // the previous read input</div>
<div class="line">long lastDebounceTime = 0;  // the last time we flipped the output pin</div>
<div class="line">long debounceDelay = 50;    // how long to debounce for</div>
<div class="line"></div>
<div class="line">static uint8_t customAdvertData[] = {</div>
<div class="line">    // general discoverable mode advertises indefinitely</div>
<div class="line">    0x02,  // length of this data</div>
<div class="line">    GAP_ADTYPE_FLAGS,</div>
<div class="line">    GAP_ADTYPE_FLAGS_GENERAL | GAP_ADTYPE_FLAGS_BREDR_NOT_SUPPORTED,</div>
<div class="line"></div>
<div class="line">    // two-byte broadcast</div>
<div class="line">    0x03,  // length of this data including the data type byte</div>
<div class="line">    GAP_ADTYPE_MANUFACTURER_SPECIFIC,</div>
<div class="line">    0xAC,  // arbitrary data so we can make sure this is</div>
<div class="line">           // the Bean we&#39;re looking for</div>
<div class="line">    0x00};</div>
<div class="line"></div>
<div class="line">bool enabled = true;</div>
<div class="line">void setup() {</div>
<div class="line">  Bean.setCustomAdvertisement(customAdvertData, sizeof(customAdvertData));</div>
<div class="line">  Bean.enableCustom();</div>
<div class="line">  Bean.enableConfigSave(false);</div>
<div class="line">  Bean.setAdvertisingInterval(100);</div>
<div class="line">  pinMode(0, INPUT_PULLUP);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Read the state of pin 0 and debounce in software</div>
<div class="line">  int reading = digitalRead(0);</div>
<div class="line">  if (reading != lastButtonState) {</div>
<div class="line">    lastDebounceTime = millis();</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  if ((millis() - lastDebounceTime) &gt; debounceDelay) {</div>
<div class="line">    if (reading != buttonState) {</div>
<div class="line">      buttonState = reading;</div>
<div class="line"></div>
<div class="line">      if (buttonState == LOW) {</div>
<div class="line">        // Pin 0 was pulled to ground (button was pressed)</div>
<div class="line">        enabled = !enabled;</div>
<div class="line">        Bean.setLedGreen(enabled ? 0 : 255);</div>
<div class="line">        customAdvertData[6] = enabled ? 1 : 0;</div>
<div class="line">        Bean.setCustomAdvertisement(customAdvertData, sizeof(customAdvertData));</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  lastButtonState = reading;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a7af1f9d1edb112f761db9b69686b5a5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>red</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>green</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>blue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set intensity values for the color channels of the Bean RGB LED. 0 is off and 255 is on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">red</td><td>the intensity of the red LED. 0 is off and 255 is on.</td></tr>
    <tr><td class="paramname">green</td><td>the intensity of the green LED. 0 is off and 255 is on.</td></tr>
    <tr><td class="paramname">blue</td><td>the intensity of the blue LED. 0 is off and 255 is on.</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example sets the LED to white (all channels on, full intensity):</p>
<div class="fragment"><div class="line"></div>
<div class="line">void setup() {</div>
<div class="line">  Bean.setLed(255, 255, 255);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  Bean.sleep(1000);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ac09c0f3cea6025e2e12e8b6c5419434b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setLedBlue </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>intensity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set intensity of the blue channel of the Bean RGB LED. 0 is off and 255 is on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intensity</td><td>the intensity of the blue LED. 0 is off and 255 is on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae1955c0312d1fa90bfeb847dada48c8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setLedGreen </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>intensity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set intensity of the green channel of the Bean RGB LED. 0 is off and 255 is on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intensity</td><td>the intensity of the green LED. 0 is off and 255 is on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adfc2642320c53819c83bbaa59bbcef9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setLedRed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>intensity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set intensity of the red channel of the Bean RGB LED. 0 is off and 255 is on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intensity</td><td>the intensity of the red LED. 0 is off and 255 is on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a11cb6a1ec42d1af44af840dff1875d00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setPairingPin </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the pairing PIN for a secure PIN-based connection. The default PIN is 000000.</p>
<p>Calling this function enables the pairing PIN mode. Disable it with <code>enablePairingPin(false)</code>.</p>
<p>If you wish to use this with HID or ANCS, set the PIN after enabling either of the profiles.</p>
<p>After pairing, your device and Bean will be bonded. In order to un-bond, you will have to manually disconnect from Bean in your device's settings.</p>
<p>The PIN will be saved to nonvolatile memory unless <code>enableConfigSave(false)</code> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>the pairing PIN to set, from 000000 to 999999</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example sets a pairing PIN of 123456 for future connections:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Enable 6-digit pairing PIN code (default is 000000)</div>
<div class="line">  Bean.enablePairingPin(true);</div>
<div class="line">  // Set pairing PIN to 123456</div>
<div class="line">  Bean.setPairingPin(123456);</div>
<div class="line">  // Pairing PIN will be required when future connections are established</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Sleep forever</div>
<div class="line">  Bean.sleep(0xffffffff);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a6a8c9b33ada6cc7da1d9229dd0d7849e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BeanClass::setScratchData </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the data in a scratch characteristic. Triggers a BLE Notify event for connected clients.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bank</td><td>The index of the destination scratch char: <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, or <code>5</code> </td></tr>
    <tr><td class="paramname">data</td><td>An array of <code>byte</code>s or <code>uint8_t</code>s to be copied into the scratch char </td></tr>
    <tr><td class="paramname">dataLength</td><td>The number of bytes to copy from <code>data</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Success: false if <code>dataLength</code> is greater than 20, true otherwise</dd></dl>
<h1>Examples</h1>
<p>This example reads two of Bean's analog pins and writes the values to two scratch characteristics:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // We don&#39;t need to set anything up here</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Create a 2-byte buffer to hold our analog value when we split it into bytes</div>
<div class="line">  uint8_t buffer[2];</div>
<div class="line"></div>
<div class="line">  // Read 10-bit values from A0 and A1</div>
<div class="line">  uint16_t an0 = analogRead(A0);</div>
<div class="line">  uint16_t an1 = analogRead(A1);</div>
<div class="line"></div>
<div class="line">  // Split A0&#39;s 10-bit value into two bytes and store in the buffer:</div>
<div class="line">  // [&lt;least significant 8 bits&gt;, &lt;most significant two bits&gt;]</div>
<div class="line">  buffer[0] = an0 &amp; 0xFF;</div>
<div class="line">  buffer[1] = an0 &gt;&gt; 8;</div>
<div class="line"></div>
<div class="line">  // Store those two bytes in scratch characteristic 1</div>
<div class="line">  Bean.setScratchData(1, buffer, 2);</div>
<div class="line"></div>
<div class="line">  // Do the same as above: split A1...</div>
<div class="line">  buffer[0] = an1 &amp; 0xFF;</div>
<div class="line">  buffer[1] = an1 &gt;&gt; 8;</div>
<div class="line"></div>
<div class="line">  // ...and store in scratch characteristic 2</div>
<div class="line">  Bean.setScratchData(2, buffer, 2);</div>
<div class="line"></div>
<div class="line">  // Sleep for 3 seconds</div>
<div class="line">  // If you&#39;re connected to this Bean in LightBlue,</div>
<div class="line">  // you should see Notify events firing every 3 seconds</div>
<div class="line">  Bean.sleep(10000);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a74e7107c64bec91d676cdd534ac6bb4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BeanClass::setScratchNumber </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a 32-bit (four-byte) value into a scratch characteristic. Triggers a BLE Notify event for connected clients.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bank</td><td>The index of the destination scratch char: <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, or <code>5</code> </td></tr>
    <tr><td class="paramname">data</td><td>The 32-bit value to be written into the scratch char</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Success: always returns true, since all 32-bit numbers are under 20 bytes in length</dd></dl>
<h1>Examples</h1>
<p>This example writes a value to and reads a value from a scratch characteristic:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Serial port is initialized automatically; we don&#39;t have to do anything</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Write a 32-bit number to scratch characteristic 1</div>
<div class="line">  // Connect to Bean with LightBlue to view the hex bytes</div>
<div class="line">  Bean.setScratchNumber(1, millis());</div>
<div class="line">  // Then wait a bit</div>
<div class="line">  Bean.sleep(250);</div>
<div class="line"></div>
<div class="line">  // Read the number back and print it via serial</div>
<div class="line">  uint32_t number = Bean.readScratchNumber(1);</div>
<div class="line">  Serial.print(&quot;Number: &quot;);</div>
<div class="line">  Serial.println(number);</div>
<div class="line"></div>
<div class="line">  // Then wait a bit and try again</div>
<div class="line">  Bean.sleep(750);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a17b6e95f7b93e39ae83971ed796edd5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::setServices </td>
          <td>(</td>
          <td class="paramtype">BluetoothServices&#160;</td>
          <td class="paramname"><em>services</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets services for the Bean to use (NOTE: disabling the standard service will no longer allow the Bean to connect to the Bean Loader)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">services</td><td>the services to change</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example prints the current Bluetooth service configuration, resets them, resets Bluetooth, then sets new values and prints those:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // Get and print the current Bluetooth services</div>
<div class="line">  BluetoothServices originalServices = Bean.getServices();</div>
<div class="line">  printServices(originalServices);</div>
<div class="line">  // Reset the services to default</div>
<div class="line">  Bean.resetServices();</div>
<div class="line">  // Reset the Bluetooth module itself</div>
<div class="line">  Bean.restartBluetooth();</div>
<div class="line">  // Wait for a few moments for Bluetooth to come back up...</div>
<div class="line">  Bean.sleep(5000);</div>
<div class="line">  // Set services to include standard advertising (default)</div>
<div class="line">  BluetoothServices newServices;</div>
<div class="line">  newServices.standard = 1;</div>
<div class="line">  Bean.setServices(newServices);</div>
<div class="line">  // Print out new service configuration</div>
<div class="line">  printServices(newServices);</div>
<div class="line">}</div>
<div class="line">void loop() {</div>
<div class="line">  // Do anything here</div>
<div class="line">}</div>
<div class="line">void printServices(BluetoothServices services) {</div>
<div class="line">  Serial.println(&quot;Bluetooth services:&quot;);</div>
<div class="line">  Serial.print(&quot;Standard: &quot;);</div>
<div class="line">  Serial.println(services.standard);</div>
<div class="line">  Serial.print(&quot;HID: &quot;);</div>
<div class="line">  Serial.println(services.hid);</div>
<div class="line">  Serial.print(&quot;MIDI: &quot;);</div>
<div class="line">  Serial.println(services.midi);</div>
<div class="line">  Serial.print(&quot;ANCS: &quot;);</div>
<div class="line">  Serial.println(services.ancs);</div>
<div class="line">  Serial.print(&quot;Observer: &quot;);</div>
<div class="line">  Serial.println(services.observer);</div>
<div class="line">  Serial.print(&quot;iBeacon: &quot;);</div>
<div class="line">  Serial.println(services.ibeacon);</div>
<div class="line">  Serial.print(&quot;Custom: &quot;);</div>
<div class="line">  Serial.println(services.custom);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a15d6716d0bdc66a0345acc29d0c14a14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BeanClass::sleep </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>duration_ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sleep for a period of time.</p>
<p>This method puts the ATmega chip to sleep until it is woken by the LBM313 at the requested time.</p>
<p>Bean can be woken from sleep by the following:</p>
<ul>
<li>The requested sleep time elapses</li>
<li>A serial message is received from a connected client</li>
<li>A client connects to Bean while wake on connect is enabled</li>
<li>A pin change interrupt occurs</li>
</ul>
<p><code>Bean.sleep()</code> is more power-efficient than Arduino <code><a class="el" href="class_bean_class.html#a15d6716d0bdc66a0345acc29d0c14a14">sleep()</a></code> because it puts the ATmega into a low-power mode known as "power-down". This disables the ATmega's internal timers, so functions like <code>millis()</code> will not track time elapsed during <code>Bean.sleep()</code>.</p>
<p>The ATmega can take up to 7 ms to wake from <code>Bean.sleep()</code>. If you are looking for more precise timings, please consider using <a href="https://www.arduino.cc/en/Reference/Delay">delay()</a> or <a href="https://www.arduino.cc/en/Reference/DelayMicroseconds">delayMicroseconds()</a>.</p>
<p>For more information on low-power mode on the ATmega328, check out this <a href="https://www.sparkfun.com/tutorials/309">Sparkfun tutorial</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration_ms</td><td>The duration to sleep for, in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<h1>Examples</h1>
<p>This example turns on Bean's LED, sleeps for one second, turns off Bean's LED and sleeps for four more seconds, then repeats:</p>
<div class="fragment"><div class="line">void setup() {</div>
<div class="line">  // We don&#39;t need to set anything up here</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">void loop() {</div>
<div class="line">  // Check if LED is on</div>
<div class="line">  if (Bean.getLedGreen() == 0) {</div>
<div class="line">    // LED is off. Turn LED on and sleep for 1 second</div>
<div class="line">    Bean.setLed(0, 255, 0);</div>
<div class="line">    Bean.sleep(1000);</div>
<div class="line">  } else {</div>
<div class="line">    // LED is on. Turn LED off and sleep for 4 seconds</div>
<div class="line">    Bean.setLed(0, 255, 0);</div>
<div class="line">    Bean.sleep(4000);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>hardware/bean/avr/cores/bean/<a class="el" href="_bean_8h_source.html">Bean.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_bean_class.html">BeanClass</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
